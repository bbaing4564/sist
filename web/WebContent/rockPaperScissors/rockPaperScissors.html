<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>rockPaperScissors.html</title>
    <style>
      fieldset {
        width: 500px;
        border-radius: 20px;
        border: 5px solid #066cfa;
        text-align: center;
        margin: 50px auto;
        padding: 30px;
        position: relative;
      }
      legend {
        font-weight: bold;
        font-size: 30px;
        color: black;
      }
      .section {
        border: 1px solid gray;
        text-align: center;
        display: inline-flex;
        margin: auto;
        flex-wrap: wrap;
      }
      #startBtn {
        background: #066cfa;
        position: absolute;
        top: 150px;
        left: 130px;
        opacity: 0.9;
        border-radius: 40px;
        color: white;
        font-size: 80px;
        width: 300px;
        height: 200px;
        box-sizing: border-box;
        padding-top: 40px;
      }

      fieldset img {
        width: 150px;
        height: 200px;
      }
      .yesNo {
        visibility: hidden;
        color: black;
        background: white;
        padding: 3px 10px;
        border: 2px solid black;
        position: absolute;
        font-weight: bold;
        width: 80px;
        margin: 20px;
        font-size: 20px;
        border-radius: 20px;
        box-shadow: 1px 1px 1px black;
      }
      .yesNo:hover {
        visibility: hidden;
        color: white;
        background: black;
        padding: 3px 10px;
        border: 2px solid black;
        position: absolute;
        font-weight: bold;
        width: 80px;
        margin: 20px;
        font-size: 20px;
        border-radius: 20px;
        box-shadow: 1px 1px 1px black;
      }
      #yesBtn {
        left: 140px;
        top: 280px;
      }
      #noBtn {
        left: 280px;
        top: 280px;
      }
    </style>
  </head>

  <body>
    <fieldset>
      <legend>가위 바위 보 게임 ver.0.1</legend>
      <img src="../images/rock.png" id="comImg" />
      <img src="../images/verses.png" />
      <img src="../images/Question_Mark.png" id="myImg" />
      <hr />
      <img src="../images/rock.png" id="rockImg" onclick="play(0)" />
      <img src="../images/paper.png" id="paperImg" onclick="play(1)" />
      <img src="../images/scissors.png" id="scissorImg" onclick="play(2)" />
      <div id="startBtn" name="startBtn" onclick="hideBtn(true)">
        START
      </div>
      <div id="yesBtn" class="yesNo" onclick="hideBtn(true)">continue</div>
      <div id="noBtn" class="yesNo" onclick="window.close()">quit</div>
    </fieldset>

    <script>
      var comImg = document.getElementById("comImg");
      var myImg = document.getElementById("myImg");
      var startBtn = document.getElementById("startBtn");
      var yesBtn = document.getElementById("yesBtn");
      var noBtn = document.getElementById("noBtn");
      var result = document.getElementById("result");

      var Imgs = [
        "../images/rock.png",
        "../images/paper.png",
        "../images/scissors.png"
      ];
      var gameOn = false;
      var com = "";
      var my = "";
      var interval = 300;
      var timer;

      function hideBtn(startOn) {
        gameOn = true;
        if (startOn == true) {
          startBtn.style.visibility = "hidden";
          yesBtn.style.visibility = "hidden";
          noBtn.style.visibility = "hidden";
          timer = setInterval("changeImg()", interval);
        } else {
          yesBtn.style.visibility = "visible";
          noBtn.style.visibility = "visible";
          startBtn.style.visibility = "visible";
          gameOn = false;
        }
      }

      function changeImg() {
        com = Math.floor(Math.random() * Imgs.length);
        comImg.src = Imgs[com];
      }

      function play(my) {
        if (gameOn) {
          myImg.src = Imgs[my];
          clearInterval(timer);
          resultGame(my);
          hideBtn(false);
        }
      }

      function resultGame(my) {
        if (gameOn) {
          if (my == com) {
            startBtn.innerHTML = "DRAW";
          } else if (my - com == -2 || my - com == 1) {
            startBtn.innerHTML = "WIN!!";
          } else {
            startBtn.innerHTML = "LOSE";
          }
        }
      }
    </script>
  </body>
</html>
